DTO = Data Transfer Object – “přenášecí” datová struktura určená čistě pro výmenu dat mezi FE a BE.
Je to jednoduchý, serializovatelný objekt (u nás JSON), bez metod, bez doménové logiky.

Proč DTO používáme

Oddělení vrstev: Backendové modely (Python) zůstávají v serveru – jsou „zdroj pravdy“. Frontend dostane jen kopii stavu ve formě DTO pro vykreslení UI.

Stabilní smlouva (contract): Když víme, jak DTO vypadá, FE i BE mohou vyvíjet nezávisle a psát testy proti jasnému formátu.

Bezpečnost & jednoduchost: Na síť neposíláme interní struktury modelů/ORM, ale jen nezbytná pole.

Kompatibilita: JSON se snadno loguje, testuje a verzujeme ho (přidáš pole → nezlomíš klienta).

Jak vypadá naše DTO (příklad)

Tohle už reálně posíláme a používáme v logách:

{
  "game": {
    "id": "1762110936108-9742",
    "board": [[".",".","."],[".",".","."],[".",".","."]],
    "player": "X",
    "status": "running",
    "winner": null,
    "size": 3,
    "kToWin": 3,
    "mode": "pvp",
    "start_mark": "X",
    "difficulty": "easy",
    "moves": 0
  }
}


Na FE si tu samou strukturu držíme ve state (říkáme jí „UI model“ = kopie DTO). Kdykoli přijde nový tah, backend přepočítá model, vrátí nové DTO, a my nahradíme UI state.

Je to v souladu se zadáním?

Ano. Zadání ITU vyžaduje interaktivní manipulaci s daty a jasné napojení FE ↔ BE. Náš přístup je přesně k tomu:

FE (React) interaguje s daty skrze DTO (zobrazí desku, po kliku pošle požadavek).

BE (Python modely) provádí skutečnou manipulaci (validace, aplikace pravidel, AI) a vrací nové DTO.

Máme tak čisté rozhraní a sledovatelný tok (což vidíš v konzolových logách [HTTP →/←], [MODEL/UI] set game, [MODEL/BE] status).

Kde ho definujeme

FE: typově/semanticky v Frontend/src/react/tic_tac_toe/shared/dto.js (popisy polí, případně JSDoc typedefy – až bude potřeba).

BE: Python objekty převádíme na JSON (např. .to_dto()); DTO je „venkovní“ tvar, nikoliv interní podoba modelu.

Krátké srovnání

Model (BE): živá doménová logika + stav hry; mutuje se při /play, /restart, /best-move.

DTO (síť): snímek stavu pro klienta; žádné metody.

UI state (FE): kopie DTO pro vykreslení; nemutujeme logiku, vždy nahrazujeme novým DTO.

Shrnutí: DTO je přesně to, co už používáme (vidíš ho v odpovědích /new, /play, /status). Je to správná a „učebnicová“ cesta a s ITU zadáním je to plně v souladu.
